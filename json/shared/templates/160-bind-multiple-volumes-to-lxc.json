{
  "name": "Bind Multiple Volumes to LXC",
  "description": "Bind multiple host directories to an LXC container (idempotent).",
  "execute_on": "ve",
  "skip_if_all_missing": ["volumes"],
  "skip_if_property_set": "skip_bind_multiple_volumes_to_lxc",
  "parameters": [
    {
      "id": "vm_id",
      "name": "ID of the LXC Container",
      "type": "string",
      "required": true,
      "description": "LXC container ID to bind volumes to."
    },
    {
      "id": "hostname",
      "name": "Hostname",
      "type": "string",
      "required": true,
      "description": "Container hostname; used in volume directory paths."
    },
    {
      "id": "host_mountpoint",
      "name": "Host Mountpoint",
      "type": "string",
      "default": "",
      "description": "Host mountpoint for volumes (optional).",
      "advanced": true
    },
    {
      "id": "base_path",
      "name": "Base Path",
      "type": "string",
      "default": "volumes",
      "advanced": true,
      "description": "Base subdirectory under mountpoint; default 'volumes'."
    },
    {
      "id": "volumes",
      "name": "Volumes",
      "type": "string",
      "multiline": true,
      "required": true
    },
    {
      "id": "username",
      "name": "Username",
      "type": "string",
      "default": "root",
      "description": "Username for directory ownership (optional).",
      "advanced": true
    },
    {
      "id": "uid",
      "name": "UID",
      "type": "string",
      "default": "0",
      "description": "",
      "advanced": true
    },
    {
      "id": "gid",
      "name": "GID",
      "type": "string",
      "default": "0",
      "advanced": true
    },
    {
      "id": "mapped_uid",
      "name": "Mapped UID (Host)",
      "type": "string",
      "default": "",
      "advanced": true
    },
    {
      "id": "mapped_gid",
      "name": "Mapped GID (Host)",
      "type": "string",
      "default": "",
       "advanced": true
    }
  ],
  "commands": [
    {
      "script": "bind-multiple-volumes-to-lxc.sh",
      "description": "Executes the script to bind multiple volumes in the container."
    }
  ]
}

