{
  "execute_on": "ve",
  "name": "Set Parameters",
  "description": "Set application-specific parameters for Node-RED",
  "parameters": [
    { "id": "hostname",
      "name": "Hostname",
      "type": "string",
      "default": "node-red",
      "required": true,
      "description": "Hostname for the Node-RED container"
    },
    {
      "id": "http_port",
      "name": "HTTP Port",
      "type": "string",
      "default": "1880",
      "required": false,
      "advanced": true,
      "description": "Port number for Node-RED HTTP server (default: 1880)"
    }
  ],
  "commands": [
    {
      "properties": [
        {
          "id": "ostype",
          "value": "alpine"
        },
        {
          "id": "packages",
          "value": "nodejs npm"
        },
        {
          "id": "command",
          "value": "node-red"
        },
        {
          "id": "command_args",
          "value": "--userDir $DATA_DIR --port {{http_port}}"
        },
        {
          "id": "package",
          "value": "node-red"
        },
        {
          "id": "owned_paths",
          "value": ""
        },
        {
          "id": "uid",
          "value": ""
        },
        {
          "id": "group",
          "value": ""
        },
        {
          "id": "http_port",
          "value": "{{http_port}}"
        },
        {
          "id": "volumes",
          "value": "data=node-red"
        }
      ]
    }
  ]
}
