# LXC Manager Project Rules

## File Locations

- Shared templates: `backend/json/shared/templates/`
- Application templates: `backend/json/applications/`
- Scripts: in the corresponding `scripts/` subdirectory of each template

## Templates

- Templates in `backend/json/shared/templates/` and `backend/json/applications/` must be validated against `backend/schemas/template.schema.json`
- Template outputs must conform to `backend/schemas/output.template.schema.json` (only `id` and optional `default` allowed)
- Scripts referenced in templates must exist in the corresponding `scripts/` directory

## Applications

- Application templates must conform to `backend/schemas/application.schema.json`
- Applications can use inheritance via `extends` to reuse other applications

## Parameters

- Parameters are passed between templates by matching parameter names (name equality)
- Parameters are automatically discovered across templates; no need to initialize them in the first template
- Best practice: Create a `set-parameters.json` template for each application to define application-specific defaults (e.g., `ostype`)
- Child applications (via `extends`) can override `set-parameters.json` to customize inherited behavior


## Schemas

- All JSON schemas are in `backend/schemas/`
- Use JSON Schema draft-07

## Shell Scripts

- Scripts run inside Alpine Linux LXC containers
- Use POSIX-compliant `/bin/sh`, not bash
- Template variables use `{{ variable }}` syntax
- Output variables as `key=value` on stdout
- Errors go to stderr

## Language
- All files must use English for file content, variable names, keys, strings, and outputs. Descriptions, comments, and documentation inside files must also be in English.
- German may only be used in user-facing chat, or in translation resources specifically intended for UI localization.


