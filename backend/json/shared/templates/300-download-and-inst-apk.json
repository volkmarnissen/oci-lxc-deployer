{
  "execute_on": "lxc",
  "name": "Install Modbus2Mqtt",
  "description": "Install modbus2mqtt on lxc container",
  "parameters": [
    {
      "id": "packageurl",
      "name": "URL of the Modbus2Mqtt package",
      "type": "string",
      "required": true,
      "description": "URL of the Modbus2Mqtt package to be installed"
    },
    {
      "id": "packagerpubkeyurl",
      "name": "Public key URL for verifying the package",
      "type": "string",
      "required": true,
      "description": "Public key for verifying the package"
    }
  ],
  "commands": [
    {
      "name": "Download Package",
      "command": "wget {{ packageurl }} -O packagefile.apk 1>&2",
      "description": "Download package to the LXC container"
    },
    {
      "name": "Install Package",
      "command": "apk add --allow-untrusted --key \"$(wget -qO- '{{ packagerpubkeyurl }}')\" ./packagefile.apk 1>&2",
      "description": "Verify and install package on the LXC container"
    }
  ]
}
