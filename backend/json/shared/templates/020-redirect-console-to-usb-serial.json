{
  "execute_on": "ve",
  "name": "Redirect Console to USB Serial",
  "description": "Redirects the Proxmox host console to a USB serial port and disables VGA output.\n\nUse cases:\n1. If the Proxmox server is not accessible via network, the most reliable way is to only plug in the USB serial console adapter when you actually need console access (e.g. for recovery or maintenance). Unplug all other USB serial adapters before plugging in the console adapter. This ensures that /dev/ttyUSB0 (or the specified device) is assigned to the correct terminal device. Use a terminal program (e.g. PuTTY on Windows, screen/minicom on Linux/macOS) to connect to the serial port (e.g. COMx or /dev/ttyUSB0) with the configured baud rate.\n2. If the server is reachable via network, SSH is the recommended and most secure way to access the system. You can view all system messages and logs via SSH (e.g. journalctl, dmesg, tail -f /var/log/syslog). The serial console is mainly a fallback for network outages or headless recovery.\n\nPlugin strategy: For maximum reliability, only connect the USB console adapter when needed for emergency or maintenance. Do not leave it permanently connected together with other USB serial adapters, as device assignment is not guaranteed after reboot or hotplug. Unplug the console device before reboot. Plug in after reboot.\n",
  "commands": [
    {
      "script": "redirect-console-to-usb-serial.sh"
    }
  ]
}
